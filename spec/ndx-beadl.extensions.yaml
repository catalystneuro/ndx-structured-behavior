datasets:
- neurodata_type_def: TaskProgram
  neurodata_type_inc: NWBData
  dtype: text
  doc: A dataset to store a task program.
  attributes:
  - name: language
    dtype: text
    doc: The language of the program. Currently only "XML" is supported. It is not
      recommended to include executable code here.
  - name: schema
    dtype:
      target_type: TaskSchema
      reftype: object
    doc: The task schema that governs the program.
- neurodata_type_def: BEADLTaskProgram
  neurodata_type_inc: TaskProgram
  doc: A dataset to store a BEADL task program.
  attributes:
  - name: language
    dtype: text
    default_value: XML
    doc: The language of the program, fixed to "XML".
    required: false
  - name: schema
    dtype:
      target_type: BEADLTaskSchema
      reftype: object
    doc: The BEADL task schema that governs the program.
- neurodata_type_def: TaskSchema
  neurodata_type_inc: NWBData
  dtype: text
  doc: A dataset to store a task schema, e.g., an XSD file.
  attributes:
  - name: version
    dtype: text
    doc: The version of the schema
  - name: language
    dtype: text
    doc: The language of the schema. Currently only "XSD" is supported.
- neurodata_type_def: BEADLTaskSchema
  neurodata_type_inc: TaskSchema
  doc: A dataset to store a BEADL task schema.
  attributes:
  - name: language
    dtype: text
    default_value: XSD
    doc: The language of the schema, fixed to "XSD".
    required: false
groups:
- neurodata_type_def: Tasks
  neurodata_type_inc: LabMetaData
  name: tasks
  doc: A group to store task-related general metadata. TODO When merged with core,
    this will no longer inherit from LabMetaData but from NWBContainer and be placed
    optionally in /general.
  datasets:
  - neurodata_type_inc: TaskProgram
    doc: A dataset to store a task program.
    quantity: +
  - neurodata_type_inc: TaskSchema
    doc: A dataset to store a task schema, e.g., an XSD file.
    quantity: +
- neurodata_type_def: TrialsTable
  neurodata_type_inc: TimeIntervals
  name: trials
  doc: A column-based table to store information about trials, one trial per row.
  datasets:
  - name: states
    neurodata_type_inc: DynamicTableRegion
    doc: The states that occurred on each trial. This is represented as a ragged array
      reference to rows of the States table.
    quantity: '?'
  - name: states_index
    neurodata_type_inc: VectorIndex
    doc: VectorIndex for the "states" column.
    quantity: '?'
  - name: events
    neurodata_type_inc: DynamicTableRegion
    docs: The events that occurred on each trial.
    quantity: '?'
  - name: events_index
    neurodata_type_inc: DynamicTableRegion
    doc: VectorIndex for the events column
    quantity: '?'
  - name: actions
    neurodata_type_inc: DynamicTableRegion
    doc: The actions that occurred on each trial. This is represented as a ragged array
      reference to rows of the Actions table.
    quantity: '?'
  - name: actions_index
    neurodata_type_inc: DynamicTableRegion
    doc: VectorIndex for the "actions" column.
    quantity: '?'
- neurodata_type_def: StateTypesTable
  neurodata_type_inc: DynamicTable
  name: state_types
  doc: A column-based table to store information about state types, one state type
    per row.
  datasets:
  - name: state_name
    neurodata_type_inc: VectorData
    dtype: text
    doc: The name of the state.
  attributes:
  - name: beadl_task_program
    dtype:
      target_type: BEADLTaskProgram
      reftype: object
    doc: The task program that governs the StateTypes and EventTypes.
- neurodata_type_def: StatesTable
  neurodata_type_inc: TimeIntervals
  name: states
  doc: A column-based table to store information about states, one state per row.
  datasets:
  - name: state_type
    neurodata_type_inc: DynamicTableRegion
    doc: The type of state that occurred on each trial. This is represented as a reference
      to a row of the StateTypesTable.
  - name: start_time
    neurodata_type_inc: VectorData
    dtype: float32
    doc: The start time that the state
  - name: stop_time
    neurodata_type_inc: VectorData
    dtype: float32
    doc: The stop time that the state
- neurodata_type_def: EventTypesTable
  neurodata_type_inc: DynamicTable
  name: event_types
  doc: A column-based table to store information about event types, one event type
    per row.
  datasets:
  - name: event_name
    neurodata_type_inc: VectorData
    dtype: text
    doc: The name of the event.
  attributes:
  - name: beadl_task_program
    dtype:
      target_type: BEADLTaskProgram
      reftype: object
    doc: The task program that governs the StateTypes and EventTypes.
- neurodata_type_def: EventsTable
  neurodata_type_inc: DynamicTable
  name: events
  doc: A column-based table to store information about events, one event per row.
  datasets:
  - name: event_type
    neurodata_type_inc: DynamicTableRegion
    doc: The type of event that occurred on each trial. This is represented as a reference
      to a row of the EventTypesTable.
  - name: value
    neurodata_type_inc: VectorData
    dtype: text
    doc: The value of the event
  - name: timestamp
    neurodata_type_inc: VectorData
    dtype: float32
    doc: The time that the event occurred, in seconds.
- neurodata_type_def: ActionTypesTable
  neurodata_type_inc: DynamicTable
  name: action_types
  doc: A column-based table to store information about action types, one action type
    per row.
  datasets:
  - name: action_name
    neurodata_type_inc: VectorData
    dtype: text
    doc: The name of the action.
  attributes:
  - name: beadl_task_program
    dtype:
      target_type: BEADLTaskProgram
      reftype: object
    doc: The task program that governs the StateTypes and EventTypes.
- neurodata_type_def: ActionTable
  neurodata_type_inc: DynamicTable
  name: actions
  doc: A column-based table to store information about events, one event per row.
  datasets:
  - name: action_type
    neurodata_type_inc: DynamicTableRegion
    doc: The type of event that occurred on each trial. This is represented as a reference
      to a row of the ActionTypesTable.
  - name: value
    neurodata_type_inc: VectorData
    dtype: text
    doc: The value of the action.
  - name: action_time
    neurodata_type_inc: VectorData
    dtype: float32
    doc: The time of the action.
